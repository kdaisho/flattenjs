<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>flattenJs</title>
</head>
<body>

<script src="data.js"></script>
<script>
function flatten (src) {
    const bigarr = [];
    let accum = {};

    function cleaner (arr, len) {
        while(arr.length > len) {
            arr = arr.filter((obj, index) => {
                return index % 2 !== 0;
            });
        }
        return arr;
    }

	function recursion (s, acc) {
		let includes = false;
        let lastlist = {};

		s.forEach(function (obj) {
			for (let prop in obj) {
                includes = false;
				if (Array.isArray(obj[prop])) {
                    includes = true;
                    lastlist[prop] = obj[prop];
				}
				else {
                    acc[prop] = obj[prop];
				}
			}
			if (includes) {
				for (let p in lastlist) {
                    recursion(lastlist[p], accum);
                }
			}
			else {
                bigarr.push({...acc});
			}
		});
		return bigarr;
	}
    return cleaner(recursion(src, accum), src.length);
}
console.log(flatten(data0));
</script>
</body>
</html>